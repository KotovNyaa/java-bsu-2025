# Обработчик банковских транзакций

Это высокопроизводительное и отказоустойчивое ядро для обработки банковских операций. Приложение построено на принципах гексагональной архитектуры, CQRS и использует продвинутые паттерны, такие как LMAX Disruptor и Transactional Outbox, для достижения низкой задержки и гарантии доставки сообщений.

## Ключевые особенности

-   **Асинхронная обработка:** Все операции по изменению состояния выполняются асинхронно, обеспечивая мгновенный отклик API.
-   **Высокая производительность:** Использование in-memory фреймворка LMAX Disruptor для обработки миллионов транзакций в секунду.
-   **Отказоустойчивость:** Паттерн Transactional Outbox гарантирует, что ни одна транзакция не будет потеряна даже в случае сбоя системы.
-   **Чистая архитектура:** Четкое разделение на модули (`domain`, `core-engine`, `persistence`, `api`, `ui`) на основе принципов SOLID и Ports & Adapters.
-   **Два вида интерфейса:** Полнофункциональный графический интерфейс (GUI) на JavaFX и консольный интерфейс (CLI) для автоматизации и скриптинга.

## Структура документации

-   [**README.md**](./README.md) — (этот файл) Общая информация, обзор модулей и инструкция по запуску.
-   [**ANSWERS.md**](./ANSWERS.md) — Ответы на ключевые теоретические и архитектурные вопросы.
-   [**SOLID.md**](./SOLID.md) — Детальный разбор применения принципов SOLID в каждом модуле.
-   [**PATTERNS.md**](./PATTERNS.md) — Описание всех использованных паттернов проектирования с примерами.
-   [**DOCUMENTATION.md**](./DOCUMENTATION.md) — Полное техническое описание работы каждого модуля и системы в целом.

---

## Обзор модулей

#### `domain`
Ядро приложения, содержащее основные бизнес-сущности (`User`, `Account`) и их логику. Не зависит от каких-либо технологий.

#### `core-engine`
Сердце системы обработки транзакций. Реализует конвейер на базе LMAX Disruptor для выполнения бизнес-логики в памяти.

#### `persistence`
Слой доступа к данным (Data Access Layer). Реализует интерфейсы (порты) из `core` для взаимодействия с базой данных через JDBC.

#### `application`
Модуль-оркестратор. Связывает воедино ядро (`core`), персистентность (`persistence`) и асинхронную обработку. Реализует паттерн Transactional Outbox.

#### `api`
Высокоуровневый фасад, предоставляющий единую точку входа для клиентов. Реализует CQRS и асинхронные уведомления через паттерн Observer.

#### `ui`
Предоставляет пользовательские интерфейсы (GUI на JavaFX) для взаимодействия с системой.

---

## Как запустить (я использую neovim btw так что запуск через maven)

### Графический интерфейс (GUI)

Для запуска GUI выполните главный класс `com.bank.ui.javafx.FxBankApp`.
Для запуска может потребоваться указать путь к JavaFX SDK:

компиляция
```bash
 mvn clean install -DskipTests 
```


запуск
```bash
 mvn exec:java -pl UI     
```

запуск тестов
```bash
 mvn test     
```


Немного про GUI:

там есть кнопки LIVE BLOKED это обрывает или восстанавливает связь с сервером, можно отправить сразу пачку разных команд на сервер если заблокировать а потом разблокировать

kill - это убийство процесса system -9 иммитация отключения питания, моментально заканчивает процесс вообще сомнительно но им можно увидеть отказоустойчивость, что если запустить много транзакций, кильнуть и запустить опять то они продолжатся, но они как бы не все обработаются возможно, если их слишком много, но гарантировано ничего никогда не сломается

clean - понятно

так же тут нельзя разблокировать аккаунт, только заблокировать, а вот замораживать размораживать можно

отправка нескольких транзакций сразу реализуется не в ядре а в API через простой цикл, можно посмотреть за скоростью работы, хотя на самом деле самое медленное в системе это API + UI потому что на тестах 100000 транзакций у меня проходили без проблем, сообственно у меня как можно заметить много тестов там есть стресс тест, сейчас там выставленно меленькое число чтобы он просто всегда проходил но в целом можно поставить 100000, программа оптимизировалась пока не выдаст на моем проце 5500u такое число в обоих стресс тестах

ну вроде все, вот мой маленький проект
